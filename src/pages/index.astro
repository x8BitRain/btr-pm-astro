---
import { Picture } from "astro-imagetools/components";
import Layout from "../layouts/Layout.astro";
import "../style/main.scss";
import Photos from "../data/photos.json";

const photos = Photos.photos;
---

<Layout title="btr.pm">
  <main>
    {
      photos.map((photo) => (
        <Picture
          src={`/src/data/images/photos/${photo.img}`}
          sizes={"400, 800, 1200"}
          alt="descriptive text"
          format={["avif", "jpeg", "png", "webp"]}
          placeholder="blurred"
          loading="lazy"
          attributes={{
            picture: {
              style: "margin-bottom: 5px; border-radius: 8px;",
            },
            img: {
              style:
                "border-radius: 8px;filter: drop-shadow(0px 0px 6px #00000014)",
            },
          }}
        />
      ))
    }
  </main>
</Layout>

<style lang="scss">
  body {
    margin: 16px;
  }

  main {
    margin: 16px 0;
    line-height: 0;
    -webkit-column-count: 3;
    -webkit-column-gap: 0;
    -moz-column-count: 3;
    -moz-column-gap: 0;
    column-count: 3;
    column-gap: 5px;
  }

  @media (max-width: 1200px) {
    main {
      -moz-column-count: 3;
      -webkit-column-count: 3;
      column-count: 3;
    }
  }
  @media (max-width: 1000px) {
    main {
      -moz-column-count: 2;
      -webkit-column-count: 2;
      column-count: 2;
    }
  }
  @media (max-width: 800px) {
    main {
      -moz-column-count: 2;
      -webkit-column-count: 2;
      column-count: 2;
    }
  }
  @media (max-width: 600px) {
    main {
      -moz-column-count: 1;
      -webkit-column-count: 1;
      column-count: 1;
    }
  }
</style>
